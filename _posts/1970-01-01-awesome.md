---
layout: post
title:  "awesome!!"
description: "What could be more awesome"
date:   2016-08-21T00:20:46-08:00
author: ePi Rational, Inc.
categories: [awesome]
tags: [Mapbox, Paper Maps, awesome]
permalink: /awesome/
excerpt: "Now with more awesome than ever."
---

## Awesome software, awesome software tricks, and awesome software tools.

#### `~/.bash_profile`

Notes on awesome stuff to put in your Bash profile.

``` bash
# the very first bash command I ever learned
alias ll="ls -l"

# redirect output of `ls` to CSV
alias lscsv="ls -hgo * | sed 's/[ \t]/,/g' > ls.csv"

# Display active git branch in bash prompt
# http://gregk.me/2011/display-active-git-branch-in-bash-prompt/
PS1="\u@\h:\w\$(git branch 2>/dev/null | grep -e '\* ' | sed 's/^..\(.*\)/ (\1)/') \$ "
```

---

### Docker

Save yourself from installing the wrong thing.

```
docker pull osgeo/gdal:alpine-normal-latest
docker pull jekyll/jekyll:latest
docker pull maptiler/tileserver-gl:latest
docker pull klokantech/tileserver-gl:latest
docker pull roblabs/gdal
```

#### `tileserver-gl`

Example, Start tileserver-gl with current folder, port=8081, copy home URL to clipboard
* `alias s='docker run --rm -it -v "$(pwd)":/data -p 8081:80 klokantech/tileserver-gl --verbose; echo 'http://localhost:8081' | pbcopy'`

---

### `git`

One of the original block chains.

```bash
# Update Git branches from master
git fetch
git rebase origin/master
```

```
# Update Git fork from master
# Review
#   * [https://stackoverflow.com/q/9257533](https://stackoverflow.com/q/9257533)
#   * [https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/syncing-a-fork](https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/syncing-a-fork)
#   * "upstream generally refers to the original repo that you have forked"
#   * "origin is your fork: your own repo on GitHub, clone of the original repo of GitHub"
git remote --verbose
git remote add upstream https://github.com/$aUser/$aRepo.git  # Example:  aUser=mapbox; aRepo=mapboxcli
git remote --verbose
git fetch upstream

# Check out your fork's local master branch.
git checkout master

# Merge the changes from upstream/master into your local master branch.
git merge upstream/master
```

```
# Submodules
git submodule add <repo>
```

---

### Geospatial Data Abstraction Library (GDAL)

Thanks to the FOSS4G community and [OSGEO.org](https://osgeo.org)

* [gdal.org](https://gdal.org)
* [`ogr2ogr`](https://www.gdal.org/ogr2ogr.html)
  * `ogr2ogr -f GeoJSON out.json in.json -s_srs EPSG:3857 -t_srs EPSG:4326`
* [`gdalwarp`](https://www.gdal.org/gdalwarp.html)
* [`gdal_translate`](https://www.gdal.org/gdal_translate.html)
* [`gdal2tiles.py`](https://www.gdal.org/gdal2tiles.html)
* [`gdalinfo`](https://www.gdal.org/gdalinfo.html)

#### GDAL in docker
* [https://hub.docker.com/r/roblabs/gdal](https://hub.docker.com/r/roblabs/gdal)
  * `docker pull roblabs/gdal`
  * `docker pull osgeo/gdal:alpine-normal-latest`
  * `# Step 1, set your GDAL_DOCKER_IMAGE`
  * `# GDAL_DOCKER_IMAGE=roblabs/gdal`
  * `GDAL_DOCKER_IMAGE=osgeo/gdal:alpine-normal-latest`
* `docker run -v $(pwd):/data roblabs/gdal ogr2ogr`
* `docker run -v $(pwd):/data roblabs/gdal gdalwarp`
* `docker run -v $(pwd):/data roblabs/gdal gdal_translate`
* `docker run -v $(pwd):/data roblabs/gdal gdal2tiles.py`
* `docker run -v $(pwd):/data roblabs/gdal gdalinfo test.tif`

---

### Python modules
* pip
  * [https://pip.pypa.io/en/stable/installing](https://pip.pypa.io/en/stable/installing)
  * `curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py`
  * `python get-pip.py --user`
* [`mb-util`](https://github.com/mapbox/mbutil) — `easy_install mbutil`
* [rasterio](https://github.com/mapbox/rasterio) — `sudo pip install rasterio`
* [mapboxcli](https://github.com/mapbox/mapbox-cli-py#installation) — `pip install --user mapboxcli`
  * You'll then need to include ~/.local/bin in your $PATH, `export  PATH=~/.local/bin:$PATH`

---

### Brew modules
* [https://brew.sh](https://brew.sh) - The missing package manager for macOS
* Awesome Brew tools in one line
  * `brew install awscli cocoapods exif ImageMagick jsonnet mapbox/cli/mapbox mupdf cocoapods tippecanoe tree webp wget`
* [aws](https://aws.amazon.com/cli) - `brew install awscli` — Official Amazon AWS command-line interface
* [`exif`](https://libexif.sourceforge.io) - `brew install exif` — Read, write, modify, and display EXIF data on the command-line
* [ImageMagick](http://www.imagemagick.org) - `brew install ImageMagick` — Tools and libraries to manipulate images in many formats
* [jsonnet](https://jsonnet.org) - `brew install jsonnet` — Domain specific configuration language for defining JSON data
* [`mapbox` command line interface](https://github.com/mapbox/mapbox-cli-py) - `brew install mapbox/cli/mapbox`
* [`mutool`](https://www.mupdf.com) - `brew cask install xquartz; brew install mupdf` - all purpose tool for dealing with PDF files
* [`cocoapods`](https://cocoapods.org) - `brew install cocoapods`
* [gdal](https://gdal.org) `brew tap osgeo/osgeo4mac` - `brew install gdal2-pdf` `brew install gdal2-python`
* [webp](https://developers.google.com/speed/webp) - `brew install webp` - Image format providing lossless and lossy compression for web images
* [wget](https://www.gnu.org/software/wget) - `brew install wget` - Internet file retriever
* [tippecanoe](https://github.com/mapbox/tippecanoe) - `brew install tippecanoe` - Build vector tilesets from collections of GeoJSON features
* [tree](https://mama.indstate.edu/users/ice/tree)  - `brew install tree` — `tree -f .` - Display directories as trees (with optional color/HTML output)

``` bash
tree -f . -L 1
.
├── ./Desktop
├── ./Documents
├── ./Downloads
├── ./Library
├── ./Movies
├── ./Music
├── ./Pictures
├── ./Public
```

---

### Ruby

Ruby, RVM & Gem notes

* Install from [rvm.io](rvm.io)
* `curl -sSL https://get.rvm.io | bash -s stable`
  * Add to path
    * `source /Users/roblabs/.rvm/scripts/rvm`
    * `export GEM_HOME=~/.gem`
    * `export GEM_PATH=~/.gem`
* `gem list`    
  * `gem install xcpretty`

---

### Node

Node and NPM notes

* [Node.js](https://docs.npmjs.com/getting-started/fixing-npm-permissions), which installs `node` and `npm`

```
npm install --global    \
  topojson-client  topojson-server \
  csv2geojson           \
  xml-json              \
  @here/cli             \
  geojson-join          \
  @mapbox/geojson-merge \
  geojson-precision     \
  geojson-random        \
  geojson2csv-cli       \
  @mapbox/geojsonhint   \
  geojsonio-cli         \
  geojson-cli-bbox      \
  json                  \
  join-json             \
  prettier              \
  serve                 \
  @tmcw/togeojson-cli
```

#### Make a Basic GeoJSON Parser in Node

* `npm init -y` - Create an empty `package.json`
* Usage:
  * `geojson-random 2 | node index.js`
  * `geojson-random 2 > out; node index.js out`
* Add this to `index.js`

``` javascript
var fs = require('fs')
var argv = require('minimist')(process.argv.slice(2))  // parse argument options
var concat = require('concat-stream')
var stdin
var usage = "usage info"

if (argv.help || argv.h) {
  console.log(usage)
  process.exit()
}

if (argv._[0] && argv._[0] !== '-') {
  stdin = fs.createReadStream(argv._[0])
} else if (!process.stdin.isTTY || argv._[0] === '-') {
  stdin = process.stdin
} else {
  console.log(usage)
  process.exit(1)
}

// buffer all input
stdin.pipe(
  concat( function (buffer) {
    try {
        var geojson = JSON.parse(buffer)
      } catch (e) {
        return console.error(e)
    }

    // Process the input
    // Example 1:  Output what was input
    console.log(JSON.stringify(geojson));

    // Example 2:  output each feature element
   geojson.features.forEach(element => console.log(element.geometry.type));
  })
)
```

#### json
* [`npm install --global json`](https://www.npmjs.com/package/json)
* `echo '{"fred":{"age":42}}' | json fred.age`
  * Pretty
  * `apm install atom-beautify`
  * `npm install -g prettier`
    * `prettier` is a great way to reformat GeoJSON coordinates & properties to a single line
    * `"coordinates": [-171.94140039338671, 59.642861762832055]`
    *  `geojson-random 3 | prettier --parser json --print-width 80`

#### jsonnet
* [https://jsonnet.org](https://jsonnet.org)
* [https://npm.runkit.com/jsonnet](https://npm.runkit.com/jsonnet)
* `jsonnet -e '{ x: 1 , y: self.x + 1 } { x: 10 }'`
* `apm install language-jsonnet`

#### csv2geojson or geojson2csv
* [`npm install --global csv2geojson`](https://github.com/mapbox/csv2geojson)
* `csv2geojson geodata.csv > out.geojson`
* [`npm install --global geojson2csv-cli`](https://github.com/stevage/geojson2csv)
* `geojson2csv a.json > out.geojson`

#### gifify
* [`npm install -g gifify`](https://github.com/vvo/gifify#requirements)
* `gifify pct.mov -o pct.gif`
* `gifify pct.mov -o pct.gif --from 45 --to 50 --speed 2 --resize 640:-1`
* [docker](https://github.com/maxogden/gifify-docker) - `docker run -it --rm -v $(pwd):/data maxogden/gifify pct.mov -o pct.gif`

#### geojson-random
* [`npm install --global geojson-random`](https://github.com/mapbox/geojson-random)

```
geojson-random 3
geojson-random 3 > a.json
geojson-random 3 > b.json
```

#### geojsonio
* [`npm install --global geojsonio-cli`](https://github.com/mapbox/geojsonio-cli)

```
geojsonio a.json
geojson-random 100 | geojsonio
```


#### geojson-merge
* [`npm install --global geojson-merge`](https://github.com/mapbox/geojson-merge)

```
geojson-merge a.json b.json
geojson-merge a.json b.json | prettier --parser json
```


#### geojson-precision
* [`npm install --global geojson-precision`](https://github.com/jczaplew/geojson-precision)

```
geojson-random 3 > a.json
geojson-precision a.json b.json
```

#### join-json
* [`npm install --global join-json`](https://www.npmjs.com/package/join-json)

```
echo { \"id\" : 3 } > a.json
geojson-random 3 > b.json
join-json -i a.json -i b.json -o out.json -f
```

#### geojsonhint
* [`npm install --global geojsonhint`](https://github.com/mapbox/geojsonhint)
* `geojsonhint a.json`

#### geojson-join
* [`npm install --global geojson-join`](https://github.com/tmcw/geojson-join)

```
geojson-join test/against.json \
    --againstField=id \
    --geojsonField=id < test/random.geojson
```

#### jsontogeojson
* [`npm install jsontogeojson`](https://github.com/roblabs/jsontogeojson)
* `jsontogeojson metadata.json`



### d3 tools from `mbostock`

#### shp2json
* [`shp2json geocode.shp`](https://github.com/mbostock/shapefile) — `npm install --global shapefile`

#### ndjson
* [`npm install --global ndjson-cli`](https://github.com/mbostock/ndjson-cli#command-line-reference)
* `ndjson-cat package.json`

#### d3-dsv
* [`npm install --global d3-dsv`](https://github.com/d3/d3-dsv)
* `csv2json < example.csv > example.json`


### Web servers
* [jekyll](http://jekyllrb.com) — `alias j='docker run --rm --label=jekyll --volume=$(pwd):/srv/jekyll -it -p 127.0.0.1:4000:4000 jekyll/jekyll:pages jekyll serve'
`

### Editors

* [atom.io](http://atom.io)
  * `apm list`
  * `apm install atom-beautify atom-ide-terminal language-jsonnet markdown-image-assistant pretty-json prettier-atom`

``` coffeescript
# Open up keymap editor in Atom
# atom ~/.atom/keymap.cson
'atom-text-editor':
  'shift-cmd-p': 'pretty-json:prettify'
  'shift-cmd-m': 'pretty-json:minify'
```


### Fonts, Glyphs, SVG

* [`npm install -g ttf2svg`](https://www.npmjs.com/package/ttf2svg)
* [`npm install -g svg-caster`](https://www.npmjs.com/package/svg-caster)
* [RoboFont](https://robofont.com) — Glyph editor and Python engine
* [Glyphr Studio](http://glyphrstudio.com) — Web & Electron based Font Editor
* [Glyphter](https://glyphter.com) — The SVG Font Machine

## macOS

### Finder
* Show Hidden Files & Folders in Finder
  * `defaults write com.apple.finder AppleShowAllFiles TRUE; killall Finder`

* Change folder of where Screenshots are saved, instead of Desktop
  * Shift-Command (⌘)-3 for entire screen
  * Shift-Command (⌘)-4 for a selected portion
  * `defaults write com.apple.screencapture location ~/Downloads`
  * `killall SystemUIServer`

### Xcode
* Explicitly set to Xcode, in case you have a Beta installed `sudo xcode-select -s /Applications/Xcode.app/Contents/Developer/`
* `xcode-select -print-path`


---

[Edit this file](https://github.com/roblabs/roblabs.github.com/blob/master/_posts/1970-01-01-awesome.md)
