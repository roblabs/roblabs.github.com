<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title></title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.22.1/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.22.1/mapbox-gl.css' rel='stylesheet' />
    <style>
        body { margin:0; padding:0; }
        #map { position:absolute; top:0; bottom:0; width:100%; }
    </style>
</head>
<body>

<div id='map'>
   <!-- <input id='slider' type='range' min='0' max='2' step='1' value='0' /> -->
   <!-- <div id='menu'> -->
    <!-- <input id='7zxu41yf' type='radio' name='rtoggle' value='7zxu41yf' checked='checked'> -->
      <!-- <label for='7zxu41yf'>54 MB PNG, 512 px, GDAL</label> -->
    <!-- <input id='cejiypsd' type='radio' name='rtoggle' value='cejiypsd'> -->
      <!-- <label for='cejiypsd'>37 MB PNG, 256 px, MapTiler</label> -->
    <!-- <input id='3jz0zo7h' type='radio' name='rtoggle' value='3jz0zo7h'> -->
      <!-- <label for='3jz0zo7h'>15 MB WEBP, 256 px, Studio</label> -->

</div>
</div>
<script>
mapboxgl.accessToken = 'pk.eyJ1Ijoicm9ibGFicyIsImEiOiJwVlg0cnZnIn0.yhekddtKwZohGoORaWjqIw';

// Use these to keep track of which Source and Layer to delete
var previousSource = "";
var previousLayer = "";
var layerId = "";

// convenience for source and for layer names
var rootSourceUrlLayerId = { "rootSourceUrl": "mapbox://roblabs.",  "rootLayerId": "mapbox-roblabs-"};

// Populate this list from those on Mapbox.com
var tilesNASAGeoTiffsLayerIds = [
  '24mkqt5e',
  '7zxu41yf',
  'cejiypsd',
  '0ec3onax'
];


var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/satellite-v9',
    zoom: 3,
    center: [-122.447303, 37.753574]
});


map.on('load', function () {

 layerId = tilesNASAGeoTiffsLayerIds[0];

  currentSource = rootSourceUrlLayerId.rootSourceUrl + layerId;
  previousSource = currentSource;

  currentLayer = rootSourceUrlLayerId.rootLayerId + layerId;
  previousLayer = currentLayer;

  map.addSource(currentSource, {
        "url": currentSource,
        "type": "raster"
      });

  map.addLayer({
      "id": currentLayer,
      "type": "raster",
      "source": currentSource,
      "interactive": true,
      "layout": {
          "visibility": "visible"
      }
  });
});

var layerList = document.getElementById('menu');
var inputs = layerList.getElementsByTagName('input');


function switchLayer(layer) {
    layerId = layer.target.id;

    /*
      Update sources and layers
    */
    currentSource = rootSourceUrlLayerId.rootSourceUrl + layerId;
    map.addSource(currentSource, {
          "url": currentSource,
          "type": "raster"
        });

    currentLayer = rootSourceUrlLayerId.rootLayerId + layerId;
    map.addLayer({
        "id": currentLayer,
        "type": "raster",
        "source": currentSource,
        "interactive": true,
        "layout": {
            "visibility": "visible"
        }
    });

    /*
      Clean up older sources and layers
    */

    // Remove current source, and add  new one
    map.removeSource(previousSource);
    previousSource = currentSource;

    // Remove current layer, and add  new one
    map.removeLayer(previousLayer);
    previousLayer = currentLayer;

}

for (var i = 0; i < inputs.length; i++) {
    inputs[i].onclick = switchLayer;
}

document.getElementById('slider').addEventListener('input', function(e) {
    var index = parseInt(e.target.value, 10);
    console.log(index);

});
</script>

</body>
</html>
